<p *ngIf="productsExist" id="title">Your shopping cart</p>

<div *ngIf="!continueForm && productsExist">
<div class="products-container">
  <ng-container *ngFor="let product of products">
    <div class="product-item">
      <div class="product-info">
        <img [src]="getThumbnailUrl(product.image)" alt="Product Image">
        <div class="text-info">
          <h2>{{ product.name }}</h2>
          <p>{{ product.description }}</p>
        </div>
      </div>

      <div class="change-count">
      <div class="value-container">
        <button id="decrease-btn" (click)="decreaseValue(product.name)">-</button>
        <div class="value">
          {{ product.count }}
        </div>
        <button id="increase-btn" (click)="increaseValue(product.name)">+</button>
      </div>

        <div class="delete-container">
          <button class="delete-btn" (click)="deleteProduct(product.name)">Delete Product</button>
        </div>

      </div>

    </div>
  </ng-container>

  <p *ngIf="!continueForm && productsExist" id="price"> <i> Total price: {{total}}</i> </p>

</div>


<div id="continue-container">
  <button id="continue" (click)="continue()">Continue</button>
</div>
</div>


<div *ngIf="!productsExist" class="no-items">
  <p id="no-items">Your shopping cart is empty</p>
  <button id="products" (click)="redirectToProducts()">Back to products</button>

</div>


<div class="form-class" *ngIf="continueForm">
  <form [formGroup]="form" (ngSubmit)="completeOrder()">

    <div class="">
      <label class="email-container-label" for="name">Name</label>
      <input
        formControlName="name"
        id="name"
        type="text"
        placeholder="nume"
      >
    </div>

    <div class="">
      <label class="email-container-label" for="address">Delivery address</label>
      <input
        formControlName="address"
        id="address"
        type="text"
        placeholder="Județ, Oraș, Stradă, Nr"
      >
    </div>

    <div class="">
      <label class="email-container-label" for="email">E-mail <span class="asterisk">*</span></label>
      <input
        formControlName="email"
        id="email"
        type="text"
        placeholder="user.name@gmail.com"
      >
    </div>

    <div class="">
      <label class="email-container-label" for="phone">Phone number<span class="asterisk">*</span></label>
      <input
        formControlName="phone"
        id="phone"
        type="number"
        placeholder="+40********"
      >
    </div>

    <button id="pay" (click)="pay()">Continue to payment</button>

  </form>


</div>
